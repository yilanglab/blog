require=function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(c)return c(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return n(i?i:t)},l,l.exports,t,e,i,o)}return i[s].exports}for(var c="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({game:[function(t,e,o){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","game"),cc.Class({"extends":cc.Component,properties:{studentPrefab:{"default":null,type:cc.Prefab},DstudentPrefab:{"default":null,type:cc.Prefab},barPrefab:{"default":null,type:cc.Prefab},maskPrefab1:{"default":null,type:cc.Prefab},maskPrefab2:{"default":null,type:cc.Prefab},maskPrefab3:{"default":null,type:cc.Prefab},maskPrefab4:{"default":null,type:cc.Prefab},maskPrefab5:{"default":null,type:cc.Prefab},maskPrefab6:{"default":null,type:cc.Prefab},maskPrefab7:{"default":null,type:cc.Prefab},maskPrefab8:{"default":null,type:cc.Prefab},instructionsPrefab:{"default":null,type:cc.Prefab},authorPrefab:{"default":null,type:cc.Prefab},itemFramePrefab:{"default":null,type:cc.Prefab},itemFrameDPrefab:{"default":null,type:cc.Prefab},column:{"default":null,type:cc.Label},row:{"default":null,type:cc.Label},drawingButton:{"default":null,type:cc.Button},buttonAudio:{"default":null,url:cc.AudioClip},hatAudio:{"default":null,url:cc.AudioClip},switchAudio:{"default":null,url:cc.AudioClip}},spawnStudents:function(){var t=this;for(t.studentLoc=[],i=0;i<8;i++)for(var e=0;e<8;e++){t.studentLoc[8*i+e]=cc.p(150*i-600,600-150*e),t.studentLoc[8*i+e].k=!1;var o=cc.instantiate(this.studentPrefab);this.node.addChild(o,2,200+10*i+e),o.setPosition(t.studentLoc[8*i+e]);var n=cc.instantiate(this.DstudentPrefab);this.node.addChild(n,1,100+10*i+e),n.setPosition(t.studentLoc[8*i+e])}for(var c=0;c<3;c++){var s=cc.instantiate(this.barPrefab);this.node.addChild(s,2,1002),s.setPosition(-300+300*c,0)}for(t.itemLoc=[],i=0;i<2;i++)for(var e=0;e<4;e++){t.itemLoc[4*i+e]=cc.p(212*i+745,585-212*e),t.itemLoc[4*i+e].k=!1;var a=cc.instantiate(this.itemFramePrefab);this.node.addChild(a,1,400+10*i+e),a.setPosition(t.itemLoc[4*i+e]);var r=cc.instantiate(this.itemFrameDPrefab);this.node.addChild(r,2,300+10*i+e),r.setPosition(t.itemLoc[4*i+e])}},isStudentsPressed:function(){var t=this,e=[];for(i=0;i<8;i++)for(var o=0;o<8;o++)e[8*i+o]=t.node.getChildByTag(200+10*i+o),e[8*i+o].on(cc.Node.EventType.TOUCH_START,function(e){t.studentPressed=!0,cc.audioEngine.playEffect(t.buttonAudio,!1),console.log("按钮按下")}),e[8*i+o].on(cc.Node.EventType.TOUCH_END,function(e){t.studentPressed=!1,console.log("按钮松开")});var n=[];for(i=0;i<2;i++)for(var o=0;o<4;o++)n[4*i+o]=t.node.getChildByTag(300+10*i+o),n[4*i+o].on(cc.Node.EventType.TOUCH_START,function(e){t.itemPressed=!0,cc.audioEngine.playEffect(t.buttonAudio,!1),console.log("按钮按下")}),n[4*i+o].on(cc.Node.EventType.TOUCH_END,function(e){t.itemPressed=!1,console.log("按钮松开")})},disabledStudent:function(){var t=this,e=[];for(i=0;i<8;i++)for(var o=0;o<8;o++)e[8*i+o]=t.node.getChildByTag(200+10*i+o),e[8*i+o].l=200+10*i+o,e[8*i+o].k=8*i+o,255!=e[8*i+o].opacity?e[8*i+o].on(cc.Node.EventType.TOUCH_START,function(e){t.node.getChildByTag(this.l).opacity=255,t.studentLoc[this.k].k=!1}):e[8*i+o].on(cc.Node.EventType.TOUCH_START,function(e){t.node.getChildByTag(this.l).opacity=0,t.studentLoc[this.k].k=!0})},selectAll:function(){var t=this;for(i=0;i<8;i++)for(var e=0;e<8;e++)t.node.getChildByTag(200+10*i+e).opacity=255,t.studentLoc[8*i+e].k=!1},banAll:function(){var t=this;for(i=0;i<8;i++)for(var e=0;e<8;e++)t.node.getChildByTag(200+10*i+e).opacity=0,t.studentLoc[8*i+e].k=!0},resetOpacity:function(){var t=this;for(i=0;i<2;i++)for(var e=0;e<4;e++)t.node.getChildByTag(300+10*i+e).opacity=255,t.itemLoc[4*i+e].k=!1},disabledItem:function(){var t=this,e=[],o=[this.maskPrefab1,this.maskPrefab2,this.maskPrefab3,this.maskPrefab4,this.maskPrefab5,this.maskPrefab6,this.maskPrefab7,this.maskPrefab8];for(i=0;i<2;i++)for(var n=0;n<4;n++)e[4*i+n]=t.node.getChildByTag(300+10*i+n),e[4*i+n].l=300+10*i+n,e[4*i+n].k=4*i+n,0!=e[4*i+n].opacity&&e[4*i+n].on(cc.Node.EventType.TOUCH_START,function(e){t.resetOpacity(),t.node.getChildByTag(this.l).opacity=0,t.itemLoc[this.k].k=!0,t.currentMaskPrefab=o[this.k],console.log(t.itemLoc[0].k+" "+this.k+" "+t.itemLoc[this.k].k)})},isBanAll:function(){var t=this;for(i=0;i<8;i++)for(var e=0;e<8;e++)if(t.studentLoc[8*i+e].k===!1)return console.log("have survived"),!1;return!0},genHat:function(){var t=cc.instantiate(this.currentMaskPrefab),e=Math.floor(63.999*cc.random0To1()),i=this.node.getChildByTag(1001),o=Math.ceil(e/8),n=Math.ceil(8-e%8);return i&&i.destroy(),this.studentLoc[e].k?void this.genHat():(this.node.addChild(t,3,1001),t.setPosition(this.studentLoc[e].x,this.studentLoc[e].y+30),this.column.string=o,this.numberColorC(),this.numberColorR(),void(this.row.string=n))},instructionsOn:function(){var t=this,e=cc.instantiate(t.instructionsPrefab);t.node.addChild(e,5),e.setPosition(0,0),e.getChildByName("OKButton").on(cc.Node.EventType.TOUCH_START,function(i){cc.audioEngine.playEffect(t.switchAudio,!1),e.destroy()})},authorOn:function(){var t=this,e=cc.instantiate(this.authorPrefab);this.node.addChild(e,5),e.setPosition(0,0),e.getChildByName("OKButton").on(cc.Node.EventType.TOUCH_START,function(i){cc.audioEngine.playEffect(t.switchAudio,!1),e.destroy()}),e.getChildByName("InfoWeibo").on(cc.Node.EventType.TOUCH_START,function(t){window.open("http://weibo.com/u/1780784987")})},numberColorC:function(){switch(this.column.string){case 1:this.column.node.color=new cc.Color(0,255,255);break;case 2:this.column.node.color=new cc.Color(255,0,255);break;case 3:this.column.node.color=new cc.Color(255,255,0);break;case 4:this.column.node.color=new cc.Color(160,0,255);break;case 5:this.column.node.color=new cc.Color(0,255,0);break;case 6:this.column.node.color=new cc.Color(255,0,0);break;case 7:this.column.node.color=new cc.Color(255,255,255);break;case 8:this.column.node.color=new cc.Color(255,120,0)}},numberColorR:function(){switch(this.row.string){case 1:this.row.node.color=new cc.Color(0,255,255);break;case 2:this.row.node.color=new cc.Color(255,0,255);break;case 3:this.row.node.color=new cc.Color(255,255,0);break;case 4:this.row.node.color=new cc.Color(160,0,255);break;case 5:this.row.node.color=new cc.Color(0,255,0);break;case 6:this.row.node.color=new cc.Color(255,0,0);break;case 7:this.row.node.color=new cc.Color(255,255,255);break;case 8:this.row.node.color=new cc.Color(255,120,0)}},isPressed:function(){var t=this;t.drawingButton.node.on(cc.Node.EventType.TOUCH_START,function(e){t.button=!0,console.log("按钮按下")}),t.drawingButton.node.on(cc.Node.EventType.TOUCH_END,function(e){t.button=!1,console.log("按钮松开")})},buttonAudioOn:function(){cc.audioEngine.playEffect(this.switchAudio,!1)},onLoad:function(){this.spawnStudents(),this.isStudentsPressed(),this.disabledStudent(),this.disabledItem(),this.isPressed(),this.isBanAll(),this.currentMaskPrefab=this.maskPrefab1,this.node.getChildByTag(300).opacity=0,this.itemLoc[0].k=!0,this.button=!1,this.timer=0,this.speed=1},update:function(t){if(this.studentPressed&&this.disabledStudent(),this.itemPressed&&this.disabledItem(),this.button&&this.isBanAll()===!1){if(this.timer>this.speed/20)return this.genHat(),cc.audioEngine.playEffect(this.hatAudio,!1),void(this.timer=0);this.timer+=t}}}),cc._RF.pop()},{}],student:[function(t,e,i){"use strict";cc._RF.push(e,"44fbc2k2oZCXK9W8tBIEMor","student"),cc.Class({"extends":cc.Component,properties:{isDisabled:!1},onLoad:function(){},update:function(t){}}),cc._RF.pop()},{}]},{},["game","student"]);